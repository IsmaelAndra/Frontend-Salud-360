<div>
  <div class="bg-gray-100 h-screen font-primary">
    <app-header></app-header>
    <main class="mt-5">
      <section>
        <div class="w-full py-6">
          <div class="flex justify-center">
            <div class="w-1/4">
              <a href="">
                <div class="relative mb-2">
                  <div class="w-10 h-10 mx-auto bg-sky-500 rounded-full text-lg text-white flex items-center">
                    <span class="text-center text-white w-full flex justify-center">
                      <i class="fa-solid fa-book-medical"></i>
                    </span>
                  </div>
                </div>
                <div class="text-xs text-center md:text-base">Cita Médica</div>
              </a>
            </div>

            <div class="w-1/4">
              <div class="relative mb-2">
                <div class="absolute flex align-center items-center align-middle content-center"
                  style="width: calc(100% - 2.5rem - 1rem); top: 50%; transform: translate(-50%, -50%)">
                  <div class="w-full bg-gray-200 rounded items-center align-middle align-center flex-1">
                    <div class="w-0 bg-sky-500 py-1 rounded" style="width: 100%;"></div>
                  </div>
                </div>

                <div class="w-10 h-10 mx-auto bg-sky-500 rounded-full text-lg text-white flex items-center">
                  <span class="text-center text-white w-full flex justify-center">
                    <i class="fa-solid fa-credit-card"></i>
                  </span>
                </div>
              </div>

              <div class="text-xs text-center md:text-base">Pago</div>
            </div>

            <div class="w-1/4">
              <div class="relative mb-2">
                <div class="absolute flex align-center items-center align-middle content-center"
                  style="width: calc(100% - 2.5rem - 1rem); top: 50%; transform: translate(-50%, -50%)">
                  <div class="w-full bg-gray-200 rounded items-center align-middle align-center flex-1">
                    <div class="w-0 bg-sky-500 py-1 rounded" style="width: 0%;"></div>
                  </div>
                </div>

                <div
                  class="w-10 h-10 mx-auto bg-white border-2 border-gray-200 rounded-full text-lg text-white flex items-center">
                  <span class="text-center text-gray-600 w-full">
                    <i class="fa-solid fa-circle-check"></i>
                  </span>
                </div>
              </div>

              <div class="text-xs text-center md:text-base">Finalizado</div>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div>
          <div class="container mx-auto rounded-lg bg-white shadow-lg shadow-sky-300">
            <div>
              <div class="rounded py-1 px-4 md:p-5 mb-4">
                <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 lg:grid-cols-2">
                  <div class="lg:col-span-1">
                    <section class="tarjeta" id="tarjeta" (click)="toggleFlip()" [@flipState]="flip">
                      <div class="delantera">
                        <div class="logo-marca flex justify-end" id="logo-marca">
                          <img
                            src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/MasterCard_Logo.svg/1280px-MasterCard_Logo.svg.png"
                            alt="">
                        </div>
                        <img
                          src="https://png.pngtree.com/png-vector/20221115/ourmid/pngtree-credit-card-chip-illustration-withdrawal-concept-vector-png-image_20504836.png"
                          class="chip" alt="">
                        <div class="datos">
                          <div class="grupo" id="numero">
                            <p class="label">Número Tarjeta</p>
                            <p class="numero" formControlName="card_number">{{pays.card_number}}</p>

                          </div>
                          <div class="flexbox">
                            <div class="grupo" id="nombre">
                              <p class="label">Nombre Tarjeta</p>
                              <p class="nombre" formControlName="card_name"> {{pays.card_name}} </p>
                            </div>

                            <div class="grupo" id="expiracion">
                              <p class="label">Expiracion</p>
                              <p class="expiracion"><span class="mes"> {{pays.expiration_month}} </span> / <span
                                  class="year"> {{pays.expiration_year}} </span></p>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="trasera">
                        <div class="barra-magnetica"></div>
                        <div class="datos">
                          <div class="grupo" id="firma">
                            <p class="label">Firma</p>
                            <div class="firma">
                              <p>{{pays.card_name}}</p>
                            </div>
                          </div>
                          <div class="grupo" id="ccv">
                            <p class="label">CCV</p>
                            <p class="ccv" formControlName="security_code">{{pays.security_code}}</p>
                          </div>
                        </div>
                        <p class="leyenda">Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus
                          exercitationem, voluptates illo.</p>
                        <a href="#" class="link-banco">www.tubanco.com</a>
                      </div>
                    </section>
                  </div>
                  <form action="#" method="POST" [formGroup]="newPay" (ngSubmit)="submit(newPay.value)">
                    <div class="lg:col-span-1">
                      <main class="mt-2 px-4">
                        <h1 class="text-xl font-semibold text-black text-center pb-4">Pago con Tarjeta</h1>
                        <div class="">
                          <div class="md:col-span-2 relative z-0 w-full mb-6 group">
                            <input type="text" [(ngModel)]="pays.card_name" formControlName="card_name" name="card_name"
                              id="card_name" maxlength="30"
                              class="block py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none  focus:outline-none focus:ring-0 peer"
                              placeholder=" " required />
                            <label
                              class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Nombre
                              Tarjeta</label>
                            <div
                              *ngIf="newPay.get('card_name')?.hasError('required') && newPay.get('card_name')?.touched"
                              class=" flex justify-end text-sm text-rose-600">
                              El campo es Obligatorio.
                            </div>
                          </div>
                          <div class="md:col-span-2 relative z-0 w-full mb-6 group">
                            <input type="number" formControlName="card_number" name="card_number" id="card_number"
                              [(ngModel)]="pays.card_number"
                              class="block py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none  focus:outline-none focus:ring-0 peer"
                              placeholder=" " required />
                            <label
                              class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Número
                              Tarjeta</label>
                            <div
                              *ngIf="newPay.get('card_number')?.hasError('pattern') && newPay.get('card_number')?.touched"
                              class=" flex justify-end text-sm text-rose-600">
                              Ingresa un número válido con 16 dígitos.
                            </div>
                            <div
                              *ngIf="newPay.get('card_number')?.hasError('required') && newPay.get('card_number')?.touched"
                              class=" flex justify-end text-sm text-rose-600">
                              El campo es Obligatorio
                            </div>
                          </div>
                          <div class="mt-3 flex flex-col">
                            <div class="mb-6">
                              <label for="" class="text-gray-700">Fecha de Expiración</label>
                            </div>
                            <div class="grid grid-cols-2 sm:grid-cols-4 gap-2">
                              <div class="md:col-span-1 relative z-0 w-full mb-6 group">
                                <label
                                  class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Mes</label>
                                <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none"
                                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232">
                                  <path
                                    d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z"
                                    fill="#648299" fill-rule="nonzero" />
                                </svg>
                                <select formControlName="expiration_month" id="expiration_month" name="expiration_month"
                                  [(ngModel)]="pays.expiration_month"
                                  class="py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none focus:outline-none focus:ring-0 peer">
                                  <option hidden>MM</option>
                                  <option value="01">01</option>
                                  <option value="02">02</option>
                                  <option value="03">03</option>
                                  <option value="04">04</option>
                                  <option value="05">05</option>
                                  <option value="06">06</option>
                                  <option value="07">07</option>
                                  <option value="08">08</option>
                                  <option value="09">09</option>
                                  <option value="10">10</option>
                                  <option value="11">11</option>
                                  <option value="12">12</option>
                                </select>
                                <div
                                  *ngIf="newPay.get('expiration_month')?.hasError('required') && newPay.get('expiration_month')?.touched"
                                  class=" flex justify-end text-sm text-rose-600">
                                  Seleccione una opcion.
                                </div>
                              </div>
                              <div class="md:col-span-1 relative z-0 w-full mb-6 group">
                                <label
                                  class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Año</label>
                                <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none"
                                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232">
                                  <path
                                    d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z"
                                    fill="#648299" fill-rule="nonzero" />
                                </svg>
                                <select formControlName="expiration_year" id="expiration_year" name="expiration_year"
                                  [(ngModel)]="pays.expiration_year"
                                  class="py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none focus:outline-none focus:ring-0 peer">
                                  <option hidden>AA</option>
                                  <option value="2023">2023</option>
                                  <option value="2024">2024</option>
                                  <option value="2025">2025</option>
                                  <option value="2026">2026</option>
                                  <option value="2024">2027</option>
                                  <option value="2025">2028</option>
                                  <option value="2026">2029</option>
                                </select>
                                <div
                                  *ngIf="newPay.get('expiration_year')?.hasError('required') && newPay.get('expiration_year')?.touched"
                                  class=" flex justify-end text-sm text-rose-600">
                                  Seleccione una opcion.
                                </div>
                              </div>
                              <div class="md:col-span-2 relative z-0 w-full mb-4 group">
                                <input type="number" (click)="toggleFlip()" formControlName="security_code"
                                  id="security_code" name="security_code" [(ngModel)]="pays.security_code"
                                  [maxLength]="3"
                                  class="block py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none  focus:outline-none focus:ring-0 peer"
                                  placeholder=" " required />
                                <label formControlName="security_code"
                                  class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Código
                                  de Seguridad</label>
                                <div
                                  *ngIf="newPay.get('security_code')?.hasError('pattern') && newPay.get('security_code')?.touched"
                                  class=" flex justify-end text-sm text-rose-600">
                                  Coloque un numero de 3 digitos
                                </div>
                                <div
                                  *ngIf="newPay.get('security_code')?.hasError('required') && newPay.get('security_code')?.touched"
                                  class=" flex justify-end text-sm text-rose-600">
                                  El campo es Obligatorio
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </main>
                      <div class="grid grid-cols-2">
                        <div class="md:col-span-1 flex justify-start">
                          <button type="submit" [routerLink]="['/home']"
                            class="flex w-40 text-black rounded-full bg-gradient-to-tr from-cyan-300 to-sky-600 p-[2px] hover:text-white focus:outline-none focus:ring active:text-opacity-75">
                            <span
                              class="block w-full rounded-full bg-white px-8 py-2 text-base font-medium hover:bg-transparent">
                              Atras
                            </span>
                          </button>
                        </div>
                        <div class="md:col-span-1 flex justify-end">
                          <button type="submit"
                            class="flex w-40 text-black rounded-full bg-gradient-to-tr from-cyan-300 to-sky-600 p-[2px] hover:text-white focus:outline-none focus:ring active:text-opacity-75">
                            <span
                              class="block w-full rounded-full bg-white px-8 py-2 text-base font-medium hover:bg-transparent">
                              Pagar
                            </span>
                          </button>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>
