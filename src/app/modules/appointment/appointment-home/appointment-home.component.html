<div>
  <div class="bg-gray-100 h-screen font-primary">
    <app-header></app-header>
    <main class="mt-5">
      <section>
        <div class="w-full py-6">
          <div class="flex justify-center">
            <div class="w-1/4">
              <a href="">
                <div class="relative mb-2">
                  <div class="w-10 h-10 mx-auto bg-sky-500 rounded-full text-lg text-white flex items-center">
                    <span class="text-center text-white w-full flex justify-center">
                      <i class="fa-solid fa-book-medical"></i>
                    </span>
                  </div>
                </div>
                <div class="text-xs text-center md:text-base">Cita Médica</div>
              </a>
            </div>

            <div class="w-1/4">
              <div class="relative mb-2">
                <div class="absolute flex align-center items-center align-middle content-center"
                  style="width: calc(100% - 2.5rem - 1rem); top: 50%; transform: translate(-50%, -50%)">
                  <div class="w-full bg-gray-200 rounded items-center align-middle align-center flex-1">
                    <div class="w-0 bg-sky-500 py-1 rounded" style="width: 0%;"></div>
                  </div>
                </div>

                <div
                  class="w-10 h-10 mx-auto bg-white border-2 border-gray-200 rounded-full text-lg text-white flex items-center">
                  <span class="text-center text-gray-600 w-full">
                    <i class="fa-solid fa-credit-card"></i>
                  </span>
                </div>
              </div>

              <div class="text-xs text-center md:text-base">Pago</div>
            </div>

            <div class="w-1/4">
              <div class="relative mb-2">
                <div class="absolute flex align-center items-center align-middle content-center"
                  style="width: calc(100% - 2.5rem - 1rem); top: 50%; transform: translate(-50%, -50%)">
                  <div class="w-full bg-gray-200 rounded items-center align-middle align-center flex-1">
                    <div class="w-0 bg-sky-500 py-1 rounded" style="width: 0%;"></div>
                  </div>
                </div>

                <div
                  class="w-10 h-10 mx-auto bg-white border-2 border-gray-200 rounded-full text-lg text-white flex items-center">
                  <span class="text-center text-gray-600 w-full">
                    <i class="fa-solid fa-circle-check"></i>
                  </span>
                </div>
              </div>

              <div class="text-xs text-center md:text-base">Finalizado</div>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div>
          <div class="container mx-auto rounded-lg bg-white shadow-lg shadow-sky-300">
            <div>
              <div class="rounded py-1 px-4 md:p-5 mb-4">
                <form action="#" method="POST" [formGroup]="newAppointment" (ngSubmit)="submit(newAppointment.value)">
                  <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 lg:grid-cols-2">
                    <div class="lg:col-span-1">
                      <div class="flex">
                        <i class="fa-solid fa-book-medical mr-2 py-2"></i>
                        <p class="font-medium text-lg pb-8">Detalles de la Cita Médica</p>
                      </div>
                      <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 md:grid-cols-4">
                        <div class="md:col-span-2 relative z-0 w-full mb-6 group">
                          <label
                            class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Especialidad</label>
                          <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232">
                            <path
                              d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z"
                              fill="#648299" fill-rule="nonzero" />
                          </svg>
                          <select formControlName="speciality_medical" name="speciality_medical" id="speciality_medical"
                            required
                            class="py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none focus:outline-none focus:ring-0 peer">
                            <option *ngFor="let specility of specialities" value="{{specility.name_speciality}}">
                              {{specility.name_speciality}}</option>
                          </select>
                          <div
                            *ngIf="newAppointment.get('speciality_medical')?.hasError('required') && newAppointment.get('speciality_medical')?.touched"
                            class=" flex justify-end text-sm text-rose-600">
                            El campo es obligatorio
                          </div>
                        </div>

                        <div class="md:col-span-2 relative z-0 w-full mb-6 group">
                          <label
                            class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Doctor</label>
                          <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232">
                            <path
                              d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z"
                              fill="#648299" fill-rule="nonzero" />
                          </svg>
                          <select formControlName="doctor" name="doctor" id="doctor" required
                            class="py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none focus:outline-none focus:ring-0 peer">
                            <option *ngFor="let doctor of doctors" [ngValue]="doctor">Dr. {{doctor.user.name_user}}
                              {{doctor.user.lastname_user}}
                            </option>
                          </select>
                          <div
                            *ngIf="newAppointment.get('doctor')?.hasError('required') && newAppointment.get('doctor')?.touched"
                            class=" flex justify-end text-sm text-rose-600">
                            El campo es obligatorio
                          </div>
                        </div>
                        <div class="md:col-span-4 relative z-0 w-full mb-6">
                          <textarea type="text" maxlength="255" formControlName="reason_medical" name="reason_medical"
                            id="reason_medical" required=""
                            class="block py-2.5 px-2.5 rounded-xl h-32 w-full text-sm bg-transparent border-0 border-b-2 appearance-none text-black border-sky-500 focus:border-blue-500 focus:outline-none focus:ring-0 peer"
                            placeholder=" " required></textarea>
                          <label
                            class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Razón</label>
                          <div
                            *ngIf="newAppointment.get('reason_medical')?.hasError('required') && newAppointment.get('reason_medical')?.touched"
                            class=" flex justify-end text-sm text-rose-600">
                            El campo es obligatorio
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="lg:col-span-1">
                      <div class="flex">
                        <i class="fa-solid fa-calendar-days mr-2 py-2"></i>
                        <p class="font-medium text-lg pb-8">Seleccione el Dia y el Lugar</p>
                      </div>
                      <div class="grid gap-4 gap-y-1 text-sm grid-cols-1 md:grid-cols-4">
                        <div class="md:col-span-2 relative z-0 w-full mb-1 group">
                          <input type="date" formControlName="date_medical"
                            name="date_medical" id="date_medical"
                            class="block py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none  focus:outline-none focus:ring-0 peer"
                            placeholder=" " required />
                          <label
                            class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Fecha</label>
                            <div *ngIf="newAppointment.get('date_medical')?.hasError('fechaInvalida') && newAppointment.get('date_medical')?.touched" class=" flex justify-end text-sm text-rose-600">
                              La fecha debe ser en el futuro, pero no más de un mes.
                            </div>
                        </div>

                        <div class="md:col-span-2 relative z-0 w-full mb-6 group">
                          <label
                            class="peer-focus:font-medium px-2.5 left-0 absolute text-sm text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Lugar</label>
                          <svg class="w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 412 232">
                            <path
                              d="M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z"
                              fill="#648299" fill-rule="nonzero" />
                          </svg>
                          <select formControlName="consultory" name="consultory" id="consultory" required
                            class="py-2.5 px-2.5 rounded-xl w-full text-sm text-black bg-transparent border-0 border-b-2 border-cyan-300 appearance-none focus:outline-none focus:ring-0 peer">
                            <option *ngFor="let consultory of consultories" [ngValue]="consultory">
                              {{consultory.name_consultory}} </option>
                          </select>
                          <div *ngIf="newAppointment.get('consultory')?.hasError('required') && newAppointment.get('consultory')?.touched" class=" flex justify-end text-sm text-rose-600">
                            El campo es obligatorio.
                          </div>
                        </div>
                      </div>
                      <div class="flex pb-4">
                        <i class="fa-solid fa-clock mr-2 py-2"></i>
                        <p class="font-medium text-lg col-span-5">Seleccione la Hora</p>
                      </div>
                      <div class="md:col-span-4 relative z-0 w-full mb-6 group flex justify-center">
                        <div class="grid grid-cols-4 gap-2 lg:max-w-xl">
                          <div class="flex items-center rounded" *ngFor="let schedule of schedules">
                            <input type="radio" formControlName="schedule" id="{{schedule.id_schedule}}" name="schedule"
                              [value]="schedule" class="hidden peer" required>
                            <label for="{{schedule.id_schedule}}"
                              class="flex w-full text-black border-2 justify-center hover:text-black hover:border-cyan-300 hover:scale-95 border-sky-500 rounded-full p-[1px] cursor-pointer peer-checked:text-white peer-checked:bg-gradient-to-tr from-cyan-300 to-sky-600 peer-checked:border-cyan-300">
                              <div class="">
                                <div class="w-full rounded-full px-3 py-2 text-sm font-medium">
                                  {{schedule.startime_schedule}} a {{schedule.departime_schedule}} </div>
                              </div>
                            </label>
                            <div *ngIf="newAppointment.get('schedule')?.hasError('required') && newAppointment.get('schedule')?.touched" class=" flex justify-end text-sm text-rose-600">
                              El campo es obligatorio.
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="md:col-span-4 flex justify-end">
                        <button type="submit"
                          class="flex w-40 text-black rounded-full bg-gradient-to-tr from-cyan-300 to-sky-600 p-[2px] hover:text-white focus:outline-none focus:ring active:text-opacity-75">
                          <span
                            class="block w-full rounded-full bg-white px-8 py-2 text-base font-medium hover:bg-transparent">
                            Agendar
                          </span>
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>
